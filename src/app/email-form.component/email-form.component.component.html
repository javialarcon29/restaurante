<div class="container">
  <form [formGroup]="emailForm" (ngSubmit)="onSubmit()">
    <h2>Reservar mesa</h2>
    
    <div class="form-group">
      <label for="to">Para:</label>
      <input id="to" type="email" formControlName="to" placeholder="Introduce el correo electrónico">
      <div *ngIf="emailForm.get('to')?.invalid && emailForm.get('to')?.touched">
        <small *ngIf="emailForm.get('to')?.errors?.['required']">Este campo es obligatorio.</small>
        <small *ngIf="emailForm.get('to')?.errors?.['email']">Formato de correo inválido.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="subject">Asunto:</label>
      <input id="subject" type="text" formControlName="subject" placeholder="Asunto del correo">
      <div *ngIf="emailForm.get('subject')?.invalid && emailForm.get('subject')?.touched">
        <small>Este campo es obligatorio.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="phone">Teléfono:</label>
      <input id="phone" type="text" formControlName="phone" placeholder="Tu número de teléfono">
      <div *ngIf="emailForm.get('phone')?.invalid && emailForm.get('phone')?.touched">
        <small>Este campo es obligatorio.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="guests">Número de comensales:</label>
      <input id="guests" type="number" formControlName="guests" placeholder="Cantidad de comensales">
      <div *ngIf="emailForm.get('guests')?.invalid && emailForm.get('guests')?.touched">
        <small *ngIf="emailForm.get('guests')?.errors?.['required']">Este campo es obligatorio.</small>
        <small *ngIf="emailForm.get('guests')?.errors?.['min']">Debe haber al menos 1 comensal.</small>
        <small *ngIf="emailForm.get('guests')?.errors?.['max']">Máximo 10 comensales permitidos.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="date">Fecha:</label>
      <input id="date" type="datetime-local" formControlName="date" [min]="minDateTime" (change)="validateDateTime()">
      <div *ngIf="emailForm.get('date')?.invalid && emailForm.get('date')?.touched">
        <small>Fecha o hora no válida.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="text">Observaciones:</label>
      <textarea id="text" formControlName="text" placeholder="Escribe tus observaciones aquí"></textarea>
    </div>

    <button type="submit" [disabled]="emailForm.invalid">Enviar</button>
  </form>
</div>
